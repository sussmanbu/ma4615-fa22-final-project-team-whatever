---
title: Analysis
description: 
toc: true
featuredVideo:
featuredImage: 
draft: false
---

We describe here our detailed data analysis.


```{r}
library(tidyverse)
library(ggplot2)
print(getwd())
data <- read_csv(here::here("dataset/income_mortality.RData"))
load(here::here("dataset/income_mortality.RData"))
print(ls())
view(income_mortality)
```

## Note on Attribution

If you are directly quoting from a source, please make that clear. You can show quotes using `>` like this




```
> To be or not to be.
```

> To be or not to be.

Also, make sure to provide a link or citation to where you are quoting from.

-------

## Motivation for Our Data Analysis
<<<<<<< HEAD
We focused on a lot of child-related data on the United Nations website when we originally decided to undertake data analysis. In order to study the connection between low fertility and nutrition, we first wanted to complete the data on children's nutrition in various nations. However, we later discovered that the data was incomplete and of insufficient quality. As a result, we have determined each nation's GDP as well as its five-year child mortality rate. Thus, we can discover a connection between economics, nutrition, and child mortality. We try to comprehend why the child mortality rate is so high in those nations with high child mortality.As a result, it might be possible to pinpoint improvements that could be made to the children's living circumstances as well as the areas where making changes would have the greatest potential to save young lives.
=======

Our data is mainly driven by investigating 


>>>>>>> e59aebd3dd98c2b2de07af1410e98df04afd235d


## Initial Questions for Data Analysis
The initial issue we ran into was that it was extremely difficult to combine all the data and still leave us with relevant data because the three tables included more than 150 countries, and the data with the longest time period exceeded 80 years. We combined data from more than 150 countries across the three tables after first cleaning each table to leave usable information. Later, we discovered that the letter "K" stands for numerous 1000s in the GDP table, while the letter "M" stands for one million. The next task is to figure out how to convert K to the number 1000.
We tried numerous approaches and discovered that it is very challenging to choose all K and M and replace them with 1000. Numerous issues will arise during the data cleaning and processing process, but we have worked through them one at a time.

## Modeling and Inference

```{r}
region_nd <- nd[205:215,]

ggplot(region_nd, aes(Country , `LowBirthWT%`,  fill=Country)) + 
    coord_flip() +
    geom_bar(stat="identity", width=.90) + 
    xlab("Region") + 
    ylab("Low Birth Weight Percentage") + 
    guides(fill=FALSE) +
    ggtitle("Percentage of Children Underweight in World Regions") + 
    theme_minimal()
```



## Clarity Figures
.
  
  
*explain your plots here 

```{r}

load(here::here("dataset/income_mortality.RData"))
#load(here::here("static/load_and_clean_data.R"))
suppressPackageStartupMessages(library(tidyverse))

#maybe need to include different regions and color them with "color = " under ggplot aes (instead of Income)

income_mortality %>% filter(Year == "1950" | Year == "1975" | Year == "2000" | Year == "2020") %>% ggplot(aes(x = Income, y = Mortality, color = Income)) + geom_point(size = 0.3) +
  facet_wrap(~as.factor(Year)) +
  stat_smooth(aes(group = Year), color='black', alpha = 0.4, geom = "line") +
  scale_x_log10() +
  labs(x = "Income Per Capita (PPP)", y = "Under 5 Mortality Rate", title = "Disparity across Under 5 Mortality Rates has decreased over time")
```

```{r}
load(here::here("dataset/nd_regions.RData"))

#needs to separate bars by country...how to do it?

ggplot(nd_regions) +
  geom_bar(
    mapping = aes(x=LowBirthWT, fill=Country), 
    width = 4) + 
  theme(aspect.ratio = 1) +
  labs(title="% of Low Birth Weights by World Region" ) + coord_polar()
  
```


```{r}
# Interesting structure for visualizing mortality rates by world regions when we'll have the world regions variable in the income_mortality data set

 #ggplot(nd_regions, aes(x=Country, y=LowBirthWT, color=Country)) +
     #geom_point(position="jitter") +
     #coord_polar("x") +
     #labs(title="% of Low Birth Weights by World Region", x="", y="", color ="Country" )
```

```{r}
#need to place region names in the x axis vertically
 nd_regions%>%ggplot() +
   geom_bar(aes(x = reorder(Country, -LowBirthWT), y = LowBirthWT, fill = Country), stat = 'identity') +
   labs(title = '% of Low Birth Weights by World Region', x = 'World Region', y = '% of Low Birth Weights')
```



